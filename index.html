<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Business Bundle - Revolutionary Reverse Auction</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1e3a8a;
            --primary-dark: #172554;
            --secondary: #F59E0B;
            --accent: #10B981;
            --dark: #1F2937;
            --light: #F9FAFB;
            --gradient-primary: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            --gradient-secondary: linear-gradient(135deg, #F59E0B 0%, #EF4444 100%);
            --gradient-dark: linear-gradient(135deg, #172554 0%, #1e3a8a 100%);
            
            /* Mobile-first responsive variables */
            --container-padding: 20px;
            --section-padding: 80px 0;
            --card-padding: 30px 20px;
            --border-radius: 20px;
            --font-size-h1: 4rem;
            --font-size-h2: 3rem;
            --font-size-h3: 1.2rem;
            --font-size-body: 1rem;
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;
            
            /* Viewport height for mobile */
            --vh: 1vh;
        }
        
        /* Mobile-first variable adjustments */
        @media (max-width: 480px) {
            :root {
                --container-padding: 15px;
                --section-padding: 40px 0;
                --card-padding: 20px 15px;
                --border-radius: 15px;
                --font-size-h1: 2rem;
                --font-size-h2: 1.75rem;
                --font-size-h3: 1.1rem;
                --font-size-body: 0.9rem;
            }
        }
        
        @media (min-width: 481px) and (max-width: 768px) {
            :root {
                --section-padding: 60px 0;
                --card-padding: 25px 20px;
                --font-size-h1: 2.8rem;
                --font-size-h2: 2.2rem;
            }
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: var(--light);
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--container-padding);
        }
        
        /* Better container responsive behavior */
        @media (min-width: 1400px) {
            .container {
                max-width: 1320px;
            }
        }

        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #172554 0%, #1e3a8a 100%);
            z-index: -1;
            overflow: hidden;
        }

        .animated-bg::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(245, 158, 11, 0.1) 0%, transparent 70%);
            animation: rotate 30s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Floating Elements */
        .floating-bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 20s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); }
            25% { transform: translateY(-20px) translateX(10px); }
            50% { transform: translateY(10px) translateX(-10px); }
            75% { transform: translateY(-10px) translateX(5px); }
        }

        /* Header Alert Bar */
        .alert-bar {
            background: var(--gradient-secondary);
            color: white;
            text-align: center;
            padding: 15px 0;
            font-weight: 700;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }

        .alert-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Live Activity Bar */
        .activity-bar {
            background: rgba(23, 37, 84, 0.95);
            backdrop-filter: blur(10px);
            color: white;
            padding: 12px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid var(--secondary);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .activity-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .live-dot {
            width: 10px;
            height: 10px;
            background: #10B981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .buyers-count {
            background: rgba(245, 158, 11, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .viewers-count {
            background: rgba(16, 185, 129, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.02); opacity: 0.9; }
        }

        .nav-rules a:hover {
            color: white !important;
            text-shadow: 0 0 10px rgba(252, 211, 77, 0.8);
        }

        /* Hero Section */
        .hero {
            padding: var(--section-padding);
            color: white;
            text-align: center;
            position: relative;
            min-height: calc(var(--vh, 1vh) * 100);
            display: flex;
            align-items: center;
        }
        
        .hero .container {
            width: 100%;
        }

        /* Bonanza Logo */
        .bonanza-logo {
            margin: 0 auto 30px;
            text-align: center;
            animation: floatLogo 3s ease-in-out infinite;
            filter: drop-shadow(0 10px 30px rgba(245, 158, 11, 0.5));
        }

        @keyframes floatLogo {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.05); }
        }

        .auction-badge {
            display: inline-block;
            background: var(--gradient-secondary);
            color: white;
            padding: 10px 30px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(245, 158, 11, 0.4);
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 4px 20px rgba(245, 158, 11, 0.4); }
            50% { box-shadow: 0 4px 30px rgba(245, 158, 11, 0.8); }
        }

        .hero-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: var(--font-size-h1);
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #FFFFFF 0%, #FCD34D 50%, #F59E0B 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.1;
            animation: slideInUp 0.8s ease-out;
            text-shadow: 0 2px 20px rgba(245, 158, 11, 0.3);
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            animation: slideInUp 0.8s ease-out 0.2s both;
        }

        /* Price Display Card */
        .price-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(245, 158, 11, 0.4);
            border-radius: 30px;
            padding: 50px;
            margin: 40px auto;
            max-width: 600px;
            position: relative;
            overflow: hidden;
            animation: slideInUp 0.8s ease-out 0.4s both;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .price-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: var(--gradient-secondary);
            border-radius: 30px;
            z-index: -1;
            opacity: 0.5;
            animation: borderRotate 3s linear infinite;
        }

        @keyframes borderRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .price-label {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .price-display {
            font-size: 5rem;
            font-weight: 900;
            color: white;
            text-shadow: 0 0 30px rgba(245, 158, 11, 0.5);
            margin-bottom: 20px;
            position: relative;
        }

        .price-change {
            position: absolute;
            top: -20px;
            right: -20px;
            background: #EF4444;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 700;
            animation: bounce 0.5s ease-out;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .countdown-wrapper {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .countdown-timer {
            font-size: 2rem;
            font-weight: 700;
            color: var(--secondary);
            font-variant-numeric: tabular-nums;
        }

        /* Progress Bar */
        .auction-progress {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            background: rgba(0, 0, 0, 0.5);
            height: 12px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-secondary);
            width: 47%;
            transition: width 0.5s ease-out;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 20px;
            height: 100%;
            background: rgba(255, 255, 255, 0.5);
            animation: progressPulse 1s ease-in-out infinite;
        }

        @keyframes progressPulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .progress-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        /* CTA Button */
        .cta-button {
            display: inline-block;
            background: var(--gradient-secondary);
            color: white;
            padding: 20px 60px;
            font-size: 1.3rem;
            font-weight: 700;
            text-decoration: none;
            border-radius: 50px;
            margin: 20px 0;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 10px 30px rgba(245, 158, 11, 0.4);
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transition: left 0.3s ease;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(245, 158, 11, 0.6);
        }

        .cta-button.disabled {
            opacity: 0.5;
            pointer-events: none;
            cursor: not-allowed;
        }

        /* Rules Link */
        .rules-link-container {
            margin: 20px 0;
        }

        .rules-link {
            color: #FCD34D;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            padding: 8px 16px;
            border: 1px solid rgba(252, 211, 77, 0.3);
            border-radius: 25px;
            display: inline-block;
        }

        .rules-link:hover {
            color: white;
            text-shadow: 0 0 10px rgba(252, 211, 77, 0.8);
            background: rgba(252, 211, 77, 0.1);
            border-color: rgba(252, 211, 77, 0.5);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            font-weight: bold;
            color: rgba(255,255,255,0.8);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }

        .modal-close:hover {
            color: white;
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 20px;
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .modal-content h3 {
            font-size: 1.5rem;
            color: var(--dark);
            margin: 20px 0 15px;
        }

        .modal-content ul {
            list-style: none;
            padding: 0;
        }

        .modal-content li {
            padding: 15px 0;
            border-bottom: 1px solid #E5E7EB;
        }

        .modal-content li strong {
            color: var(--primary);
            font-weight: 600;
        }

        .modal-cta {
            background: var(--gradient-secondary);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            display: inline-block;
            margin-top: 20px;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .modal-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(245, 158, 11, 0.4);
        }

        .subscribe-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 158, 11, 0.4);
        }

        /* Bonus Banner */
        .bonus-banner {
            background: linear-gradient(135deg, #10B981 0%, #059669 100%);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            margin: 30px auto;
            max-width: 700px;
            font-weight: 600;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
            animation: pulse 3s ease-in-out infinite;
        }

        /* Feature Cards */
        .features {
            padding: 80px 0;
            background: #FFFFFF;
            position: relative;
        }

        .section-title {
            font-size: var(--font-size-h2);
            font-weight: 800;
            text-align: center;
            margin-bottom: 20px;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(30, 58, 138, 0.1);
        }

        .section-subtitle {
            font-size: 1.2rem;
            text-align: center;
            color: #6B7280;
            margin-bottom: 60px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .feature-card {
            background: white;
            border-radius: 20px;
            padding: 30px 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid #E5E7EB;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-secondary);
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
            border-color: var(--secondary);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: var(--gradient-secondary);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .feature-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .feature-list {
            list-style: none;
            margin: 10px 0;
            font-size: 0.85rem;
            color: #6B7280;
        }

        .feature-list li {
            padding: 3px 0;
        }

        .feature-value {
            color: var(--accent);
            font-weight: 700;
            font-size: 1rem;
            margin-top: 10px;
        }

        /* Value Comparison */
        .value-comparison {
            padding: 80px 0;
            background: white;
        }

        .comparison-table {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            max-width: 900px;
            margin: 0 auto;
        }

        .comparison-column {
            padding: 40px;
            border-radius: 20px;
            text-align: center;
        }

        .comparison-column.traditional {
            background: #FEF2F2;
            border: 2px solid #FCA5A5;
        }

        .comparison-column.smart {
            background: #ECFDF5;
            border: 2px solid #6EE7B7;
            position: relative;
            overflow: hidden;
        }

        .comparison-column.smart::before {
            content: 'BEST VALUE';
            position: absolute;
            top: 20px;
            right: -30px;
            background: var(--gradient-secondary);
            color: white;
            padding: 5px 40px;
            transform: rotate(45deg);
            font-size: 0.8rem;
            font-weight: 700;
        }

        .comparison-column h3 {
            font-size: 1.5rem;
            margin-bottom: 30px;
            color: var(--dark);
        }

        .comparison-column ul {
            list-style: none;
            text-align: left;
            margin-bottom: 30px;
        }

        .comparison-column li {
            padding: 10px 0;
            font-size: 1.1rem;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .strike {
            text-decoration: line-through;
            color: #EF4444;
        }

        .check {
            color: #10B981;
            font-weight: 600;
        }

        .total-cost {
            font-size: 1.5rem;
            font-weight: 700;
            color: #EF4444;
        }

        .total-savings {
            font-size: 1.5rem;
            font-weight: 700;
            color: #10B981;
        }

        /* How It Works */
        .how-it-works {
            padding: 80px 0;
            background: #F3F4F6;
        }

        .steps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .step-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            position: relative;
            transition: all 0.3s ease;
        }

        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .step-card.special {
            background: var(--gradient-secondary);
            color: white;
        }

        .step-number {
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0 auto 20px;
            box-shadow: 0 4px 15px rgba(30, 58, 138, 0.4);
        }

        .step-card.special .step-number {
            background: white;
            font-size: 2rem;
        }

        .step-card h4 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .step-card.special h4 {
            color: white;
        }

        /* Notification System */
        .notification-container {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            max-width: 350px;
        }

        .notification {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: slideInLeft 0.5s ease-out;
            border-left: 5px solid var(--accent);
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .notification-header {
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .notification-body {
            color: #6B7280;
            font-size: 0.9rem;
        }

        /* Floating Price Tracker */
        .price-tracker {
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(23, 37, 84, 0.95);
            backdrop-filter: blur(20px);
            color: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            z-index: 999;
            min-width: 200px;
            border: 2px solid rgba(245, 158, 11, 0.4);
            animation: slideInRight 0.5s ease-out;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .tracker-title {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            color: var(--secondary);
        }

        .tracker-price {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 15px;
        }

        .tracker-stats {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
        }

        /* FAQ Section */
        .faq-section {
            padding: 80px 0;
            background: white;
        }

        .faq-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .faq-item {
            background: #F8FAFC;
            border-radius: 20px;
            padding: 30px;
            border-left: 4px solid var(--secondary);
            transition: all 0.3s ease;
            border: 1px solid #E5E7EB;
        }

        .faq-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .faq-question {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .faq-answer {
            color: #4B5563;
            line-height: 1.7;
            font-size: 1.05rem;
        }

        /* Trust Section */
        .trust-section {
            padding: 60px 0;
            background: #F9FAFB;
            border-top: 1px solid #E5E7EB;
            border-bottom: 1px solid #E5E7EB;
        }

        .trust-badges {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 40px;
        }

        .trust-badge {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .badge-icon {
            font-size: 2.5rem;
        }

        .badge-text {
            display: flex;
            flex-direction: column;
        }

        .badge-text strong {
            font-size: 1rem;
            color: var(--dark);
        }

        .badge-text span {
            font-size: 0.9rem;
            color: #6B7280;
        }

        /* Final CTA */
        .final-cta {
            padding: 100px 0;
            text-align: center;
            color: white;
            position: relative;
        }

        .final-cta-content {
            background: rgba(23, 37, 84, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 60px;
            max-width: 800px;
            margin: 0 auto;
            border: 2px solid rgba(245, 158, 11, 0.4);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .urgency-box {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid #EF4444;
            border-radius: 15px;
            padding: 20px;
            margin: 30px auto;
            max-width: 600px;
            animation: pulse 2s infinite;
        }

        .urgency-box p {
            color: white;
            font-size: 1.1rem;
        }

        /* Error States */
        .price-error {
            display: none;
            color: #EF4444;
            font-size: 0.9rem;
            margin-top: 10px;
            background: rgba(239, 68, 68, 0.1);
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #EF4444;
        }

        .auction-status {
            margin-top: 10px;
            font-weight: 600;
        }

        .auction-status.closed {
            color: #EF4444;
        }

        /* Loading State */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--secondary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Enhanced Mobile-First Responsive Design */
        
        /* Extra Small Devices (320px and up) */
        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }
            
            .hero {
                padding: 40px 0;
            }
            
            .hero-title {
                font-size: 2rem;
                line-height: 1.2;
                margin-bottom: 15px;
            }
            
            .hero-subtitle {
                font-size: 1rem;
                margin-bottom: 25px;
                padding: 0 10px;
            }
            
            .price-display {
                font-size: 2.5rem;
                margin-bottom: 15px;
            }
            
            .price-card {
                padding: 20px;
                margin: 20px auto;
                border-radius: 20px;
            }
            
            .countdown-timer {
                font-size: 1.5rem;
            }
            
            .cta-button {
                padding: 15px 30px;
                font-size: 1rem;
                margin: 15px 0;
                width: 100%;
                text-align: center;
            }
            
            .alert-bar {
                font-size: 0.85rem;
                padding: 10px 5px;
            }
            
            .bonanza-logo svg {
                width: 120px;
                height: 120px;
            }
            
            .activity-content {
                flex-direction: column;
                gap: 10px;
                font-size: 0.85rem;
            }
            
            .activity-content > div {
                margin: 2px 0;
            }
            
            .section-title {
                font-size: 1.75rem;
                margin-bottom: 15px;
            }
            
            .section-subtitle {
                font-size: 1rem;
                margin-bottom: 30px;
            }
            
            .features {
                padding: 40px 0;
            }
            
            .feature-card {
                padding: 20px 15px;
                margin-bottom: 15px;
            }
            
            .feature-icon {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            
            .feature-title {
                font-size: 1.1rem;
                margin-bottom: 8px;
            }
            
            .price-tracker {
                position: fixed;
                bottom: 10px;
                right: 10px;
                padding: 15px;
                min-width: 120px;
                font-size: 0.85rem;
                z-index: 1001;
            }
            
            .tracker-price {
                font-size: 1.8rem;
                margin-bottom: 10px;
            }
            
            .notification-container {
                bottom: 10px;
                left: 10px;
                right: 10px;
                max-width: none;
                transform: none;
            }
            
            .notification {
                padding: 15px;
                margin-bottom: 10px;
                font-size: 0.85rem;
            }
            
            .modal-content {
                margin: 5% auto;
                padding: 15px;
                width: 95%;
                max-height: 90vh;
                border-radius: 15px;
            }
            
            .modal-title {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            
            .faq-question {
                font-size: 1rem;
                margin-bottom: 10px;
            }
            
            .faq-answer {
                font-size: 0.9rem;
            }
            
            .comparison-column {
                padding: 20px;
                margin-bottom: 20px;
            }
            
            .step-card {
                padding: 20px;
                margin-bottom: 15px;
            }
            
            .final-cta-content {
                padding: 30px 20px;
                border-radius: 20px;
            }
            
            .final-cta h2 {
                font-size: 1.75rem;
                margin-bottom: 15px;
            }
            
            .urgency-box {
                padding: 15px;
                margin: 20px auto;
                font-size: 0.95rem;
            }
            
            .trust-badges {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .badge-text {
                align-items: center;
                text-align: center;
            }
        }
        
        /* Small Devices (481px to 768px) */
        @media (min-width: 481px) and (max-width: 768px) {
            .container {
                padding: 0 20px;
            }
            
            .hero {
                padding: 60px 0;
            }
            
            .hero-title {
                font-size: 2.8rem;
                line-height: 1.1;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
                margin-bottom: 30px;
            }
            
            .price-display {
                font-size: 3.5rem;
            }
            
            .price-card {
                padding: 35px;
                margin: 30px auto;
            }
            
            .cta-button {
                padding: 18px 40px;
                font-size: 1.1rem;
                width: auto;
            }
            
            .section-title {
                font-size: 2.2rem;
            }
            
            .feature-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .activity-content {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
                font-size: 0.9rem;
            }
            
            .price-tracker {
                position: fixed;
                bottom: 20px;
                right: 15px;
                padding: 20px;
                min-width: 160px;
            }
            
            .tracker-price {
                font-size: 2rem;
            }
            
            .notification-container {
                bottom: 15px;
                left: 15px;
                max-width: 300px;
                transform: none;
            }
            
            .comparison-table {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .faq-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .trust-badges {
                flex-wrap: wrap;
                justify-content: center;
                gap: 25px;
            }
            
            .modal-content {
                margin: 8% auto;
                padding: 25px;
                width: 90%;
            }
        }
        
        /* Medium Devices (769px to 1024px) */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                max-width: 960px;
                padding: 0 25px;
            }
            
            .hero-title {
                font-size: 3.2rem;
            }
            
            .price-display {
                font-size: 4rem;
            }
            
            .feature-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }
            
            .activity-content {
                justify-content: space-between;
                flex-wrap: wrap;
                gap: 20px;
            }
            
            .price-tracker {
                top: 120px;
                right: 25px;
                padding: 25px;
                min-width: 180px;
            }
            
            .comparison-table {
                grid-template-columns: repeat(2, 1fr);
                gap: 30px;
            }
            
            .faq-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }
            
            .steps-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }
        }
        
        /* Large Tablets and Small Desktops (1025px to 1200px) */
        @media (min-width: 1025px) and (max-width: 1200px) {
            .container {
                max-width: 1140px;
            }
            
            .feature-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 25px;
            }
            
            .activity-content {
                justify-content: space-between;
            }
            
            .comparison-table {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .faq-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* Large Screens (1201px and up) */
        @media (min-width: 1201px) {
            .feature-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .faq-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .steps-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        /* Touch Device Optimizations */
        @media (hover: none) and (pointer: coarse) {
            /* Enhanced touch targets */
            .cta-button {
                min-height: 48px;
                padding: 18px 40px;
            }
            
            .rules-link {
                min-height: 44px;
                padding: 12px 20px;
            }
            
            .subscribe-btn {
                min-height: 48px;
                padding: 15px 25px;
            }
            
            .modal-close {
                min-width: 44px;
                min-height: 44px;
                font-size: 2.5rem;
            }
            
            /* Remove hover effects on touch devices */
            .feature-card:hover,
            .step-card:hover,
            .faq-item:hover {
                transform: none;
                box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            }
            
            .cta-button:hover {
                transform: none;
                box-shadow: 0 10px 30px rgba(245, 158, 11, 0.4);
            }
            
            /* Prevent zoom on input focus for iOS */
            input[type="email"] {
                font-size: 16px;
            }
        }
        
        /* High DPI/Retina Display Optimizations */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .bonanza-logo svg {
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
            }
            
            .floating-bubble {
                will-change: transform;
            }
        }
        
        /* Landscape Orientation on Mobile */
        @media (max-width: 768px) and (orientation: landscape) {
            .hero {
                padding: 30px 0;
            }
            
            .hero-title {
                font-size: 2rem;
                margin-bottom: 10px;
            }
            
            .hero-subtitle {
                font-size: 0.95rem;
                margin-bottom: 20px;
            }
            
            .price-card {
                padding: 20px;
                margin: 15px auto;
            }
            
            .price-display {
                font-size: 2.5rem;
                margin-bottom: 10px;
            }
            
            .countdown-wrapper {
                padding: 15px;
                margin-bottom: 20px;
            }
            
            .countdown-timer {
                font-size: 1.3rem;
            }
            
            .cta-button {
                padding: 12px 30px;
                font-size: 0.95rem;
            }
            
            .bonanza-logo svg {
                width: 100px;
                height: 100px;
            }
            
            .features,
            .value-comparison,
            .how-it-works,
            .faq-section {
                padding: 40px 0;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .final-cta {
                padding: 40px 0;
            }
            
            .final-cta-content {
                padding: 25px 20px;
            }
            
            .final-cta h2 {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
        }
        
        /* Print Styles */
        @media print {
            .animated-bg,
            .floating-bubble,
            .price-tracker,
            .notification-container,
            .activity-bar,
            .modal {
                display: none !important;
            }
            
            .hero,
            .features,
            .value-comparison {
                page-break-inside: avoid;
            }
            
            .cta-button {
                border: 2px solid #333;
                background: white !important;
                color: #333 !important;
            }
        }
        
        /* Reduced Motion Preferences */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .animated-bg::before {
                animation: none;
            }
            
            .floating-bubble {
                animation: none;
            }
            
            .alert-bar::after {
                animation: none;
            }
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            .features,
            .value-comparison,
            .faq-section {
                background: #111827;
                color: #F9FAFB;
            }
            
            .feature-card,
            .step-card,
            .faq-item,
            .modal-content {
                background: #1F2937;
                border-color: #374151;
                color: #F9FAFB;
            }
            
            .how-it-works {
                background: #0F172A;
            }
            
            .section-title {
                color: #F9FAFB;
            }
            
            .section-subtitle,
            .faq-answer {
                color: #D1D5DB;
            }
        }
        
        /* Legacy Browser Support */
        @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
            /* IE11 fallbacks */
            .feature-grid {
                display: flex;
                flex-wrap: wrap;
            }
            
            .feature-card {
                flex: 1 1 300px;
                margin: 10px;
            }
            
            .comparison-table {
                display: block;
            }
            
            .comparison-column {
                width: 100%;
                margin-bottom: 20px;
            }
        }

        /* Animations on scroll */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Enhanced Rules Modal Styles */
        .enhanced-rules-modal {
            max-width: 800px;
            padding: 0;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid rgba(59, 130, 246, 0.1);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            overflow-y: auto;
            max-height: 90vh;
            scrollbar-width: thin;
            scrollbar-color: rgba(59, 130, 246, 0.3) transparent;
        }
        
        /* Custom scrollbar for webkit browsers */
        .enhanced-rules-modal::-webkit-scrollbar {
            width: 8px;
        }
        
        .enhanced-rules-modal::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 4px;
        }
        
        .enhanced-rules-modal::-webkit-scrollbar-thumb {
            background: rgba(59, 130, 246, 0.3);
            border-radius: 4px;
        }
        
        .enhanced-rules-modal::-webkit-scrollbar-thumb:hover {
            background: rgba(59, 130, 246, 0.5);
        }
        
        .modal-header {
            background: var(--gradient-primary);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .modal-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            animation: shimmer 20s linear infinite;
        }
        
        .rules-icon {
            font-size: 4rem;
            margin-bottom: 15px;
            display: block;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
        }
        
        .modal-title {
            font-size: 2.5rem;
            font-weight: 900;
            margin: 0 0 10px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            background: none;
            -webkit-text-fill-color: white;
        }
        
        .modal-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin: 0;
            font-weight: 500;
        }
        
        .rules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            padding: 40px;
        }
        
        .rule-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .rule-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-secondary);
        }
        
        .rule-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            border-color: rgba(59, 130, 246, 0.2);
        }
        
        .special-rule {
            background: linear-gradient(135deg, #fef3c7 0%, #ffffff 100%);
            border-color: #f59e0b;
        }
        
        .special-rule::before {
            background: linear-gradient(90deg, #f59e0b, #ef4444);
        }
        
        .rule-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }
        
        .rule-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark);
            margin: 0 0 15px 0;
        }
        
        .rule-content p {
            margin: 0 0 8px 0;
            color: #4b5563;
            line-height: 1.6;
        }
        
        .rule-detail {
            font-size: 0.9rem;
            color: #6b7280;
        }
        
        .highlight {
            background: linear-gradient(135deg, #3b82f6, #1e40af);
            color: white;
            padding: 2px 8px;
            border-radius: 6px;
            font-weight: 600;
            display: inline-block;
        }
        
        .highlight-price {
            background: linear-gradient(135deg, #f59e0b, #ef4444);
            color: white;
            padding: 4px 12px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 1.2rem;
            display: inline-block;
        }
        
        .bonus-list {
            list-style: none;
            padding: 0;
            margin: 10px 0 0 0;
        }
        
        .bonus-list li {
            padding: 5px 0;
            color: #059669;
            font-weight: 500;
        }
        
        .key-points {
            background: #f8fafc;
            margin: 0 40px 40px 40px;
            padding: 30px;
            border-radius: 20px;
            border: 1px solid #e2e8f0;
        }
        
        .key-points h3 {
            font-size: 1.5rem;
            color: var(--dark);
            margin: 0 0 20px 0;
            text-align: center;
        }
        
        .points-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }
        
        /* On medium screens, show 2x2 layout */
        @media (max-width: 900px) {
            .points-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
        }
        
        /* On small screens, stack vertically */
        @media (max-width: 600px) {
            .points-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
        }
        
        .point {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: white;
            border-radius: 12px;
            font-weight: 500;
            color: #374151;
            border: 1px solid #e5e7eb;
        }
        
        .point-icon {
            font-size: 1.2rem;
        }
        
        .newsletter-section {
            background: var(--gradient-primary);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .newsletter-header h3 {
            font-size: 1.8rem;
            margin: 0 0 10px 0;
            font-weight: 900;
            color: white;
        }
        
        .newsletter-header p {
            margin: 0 0 25px 0;
            opacity: 0.9;
        }
        
        .newsletter-form {
            max-width: 400px;
            margin: 0 auto;
        }
        
        .email-input-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .email-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            font-size: 1rem;
            background: rgba(255,255,255,0.1);
            color: white;
            backdrop-filter: blur(10px);
        }
        
        .email-input::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .email-input:focus {
            outline: none;
            border-color: #fbbf24;
            background: rgba(255,255,255,0.15);
        }
        
        .modal-cta {
            background: var(--gradient-secondary);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            border: none;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;
            width: 100%;
        }
        
        .modal-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(245, 158, 11, 0.4);
        }
        
        .btn-icon {
            font-size: 1.1rem;
        }
        
        .privacy-note {
            font-size: 0.85rem;
            opacity: 0.8;
            margin: 0;
        }
        
        /* Mobile Responsive Enhancements */
        @media (max-width: 768px) {
            .enhanced-rules-modal {
                max-width: 95%;
                margin: 2% auto;
                max-height: 95vh;
                overflow-y: auto;
            }
            
            .modal-header {
                padding: 25px 20px;
            }
            
            .modal-title {
                font-size: 2rem;
            }
            
            .rules-grid {
                grid-template-columns: 1fr;
                padding: 20px;
                gap: 20px;
            }
            
            .rule-card {
                padding: 25px 20px;
            }
            
            .key-points {
                margin: 0 20px 20px 20px;
                padding: 20px;
            }
            
            .points-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .newsletter-section {
                padding: 25px 20px;
            }
            
            .email-input-group {
                flex-direction: column;
            }
            
            .modal-cta {
                width: 100%;
                justify-content: center;
            }
        }
        
        /* TL;DR Summary Section */
        .tldr-section {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            color: white;
            padding: 20px 30px;
            margin: 0;
            text-align: center;
            border-bottom: 3px solid #f59e0b;
        }
        
        .tldr-title {
            font-size: 1.2rem;
            font-weight: 900;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .tldr-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .flow-step {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.15);
            padding: 10px 15px;
            border-radius: 12px;
            font-weight: 600;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .flow-arrow {
            font-size: 1.5rem;
            color: #fbbf24;
            font-weight: 900;
        }
        
        /* Mini FAQ Section */
        .mini-faq {
            background: #f8fafc;
            padding: 30px 40px;
            border-top: 1px solid #e2e8f0;
        }
        
        .mini-faq h3 {
            font-size: 1.5rem;
            color: var(--dark);
            margin: 0 0 20px 0;
            text-align: center;
            font-weight: 700;
        }
        
        .faq-quick-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .faq-quick-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--secondary);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .faq-quick-question {
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        .faq-quick-answer {
            color: #6b7280;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .faq-trust-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: #059669;
            color: white;
            padding: 3px 8px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 8px;
        }
        
        .stripe-highlight {
            background: linear-gradient(135deg, #6772e5, #5469d4);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 700;
        }
        
        /* Mobile Responsive for TL;DR and Mini FAQ */
        @media (max-width: 768px) {
            .tldr-section {
                padding: 15px 20px;
            }
            
            .tldr-flow {
                flex-direction: column;
                gap: 10px;
            }
            
            .flow-step {
                padding: 8px 12px;
                font-size: 0.9rem;
            }
            
            .flow-arrow {
                transform: rotate(90deg);
                font-size: 1.2rem;
            }
            
            .mini-faq {
                padding: 20px 25px;
            }
            
            .faq-quick-list {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .faq-quick-item {
                padding: 18px;
                margin-bottom: 5px;
            }
            
            .faq-quick-question {
                font-size: 1rem;
                margin-bottom: 10px;
            }
            
            .faq-trust-badge {
                margin-left: 0;
                margin-top: 8px;
                display: block;
                width: fit-content;
            }
        }
        
        /* Micro-Stepper Below Hero */
        .micro-stepper {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            padding: 20px;
            text-align: center;
            border-top: 1px solid #e5e7eb;
            border-bottom: 1px solid #e5e7eb;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark);
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }
        
        .micro-stepper-content {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .micro-step {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .step-arrow {
            color: var(--secondary);
            font-weight: 900;
            font-size: 1.2rem;
        }
        
        @media (max-width: 600px) {
            .micro-stepper {
                padding: 15px;
                font-size: 1rem;
            }
            
            .micro-stepper-content {
                flex-direction: column;
                gap: 8px;
            }
            
            .step-arrow {
                transform: rotate(90deg);
                font-size: 1rem;
            }
        }

        /* Footer Styles */
        .footer {
            background: var(--gradient-dark);
            padding: 40px 0 20px;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--container-padding);
        }

        .footer-links {
            margin-bottom: 20px;
        }

        .footer-link {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-size: 0.9rem;
            margin: 0 15px;
            transition: color 0.3s ease;
        }

        .footer-link:hover {
            color: var(--secondary);
        }

        .footer-copyright {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
            margin-top: 15px;
        }

        /* Terms Modal Styles */
        .terms-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }

        .terms-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .terms-modal-content {
            background: white;
            border-radius: 20px;
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            position: relative;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
            overflow: hidden;
        }

        .terms-modal-header {
            background: var(--gradient-primary);
            color: white;
            padding: 25px 30px;
            border-radius: 20px 20px 0 0;
            position: relative;
        }

        .terms-modal-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0;
        }

        .terms-close {
            position: absolute;
            top: 20px;
            right: 25px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
        }

        .terms-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .terms-modal-body {
            padding: 0;
            max-height: 60vh;
            overflow-y: auto;
        }

        .terms-content {
            padding: 30px;
            line-height: 1.6;
            color: #333;
        }

        .terms-content h2 {
            color: var(--primary);
            font-size: 1.4rem;
            margin: 25px 0 15px 0;
            font-weight: 600;
        }

        .terms-content h2:first-child {
            margin-top: 0;
        }

        .terms-content h3 {
            color: var(--primary-dark);
            font-size: 1.1rem;
            margin: 20px 0 10px 0;
            font-weight: 600;
        }

        .terms-content p {
            margin-bottom: 15px;
            color: #555;
        }

        .terms-content ul {
            margin: 15px 0;
            padding-left: 20px;
        }

        .terms-content li {
            margin-bottom: 8px;
            color: #555;
        }

        .terms-content strong {
            color: var(--primary-dark);
        }

        .terms-content .highlight {
            background: rgba(30, 58, 138, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid var(--primary);
            color: #1F2937;
        }

        .terms-content .highlight strong {
            color: #1F2937;
        }

        /* Mobile responsiveness for footer and terms */
        @media (max-width: 768px) {
            .footer {
                padding: 30px 0 15px;
            }

            .footer-link {
                display: block;
                margin: 8px 0;
            }

            .terms-modal-content {
                margin: 10px;
                max-height: 95vh;
            }

            .terms-modal-header {
                padding: 20px 25px;
            }

            .terms-modal-title {
                font-size: 1.5rem;
                padding-right: 50px;
            }

            .terms-content {
                padding: 20px;
            }

            .terms-content h2 {
                font-size: 1.2rem;
            }

            .terms-content h3 {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="floating-bubble" style="width: 100px; height: 100px; top: 10%; left: 5%; animation-delay: 0s;"></div>
        <div class="floating-bubble" style="width: 150px; height: 150px; top: 60%; right: 10%; animation-delay: 5s;"></div>
        <div class="floating-bubble" style="width: 80px; height: 80px; bottom: 20%; left: 15%; animation-delay: 10s;"></div>
    </div>

    <!-- Alert Bar -->
    <div class="alert-bar">
         REVOLUTIONARY REVERSE AUCTION - Price Increases With Every Purchase! 
    </div>

    <!-- Live Activity Bar -->
    <div class="activity-bar">
        <div class="container">
            <div class="activity-content">
                <div class="live-indicator">
                    <div class="live-dot"></div>
                    <span>LIVE AUCTION</span>
                </div>
                <div class="buyers-count">
                    <span id="buyers-count">--</span> Entrepreneurs Already In
                </div>
                <div class="viewers-count">
                     <span id="viewers-count">--</span> watching now
                </div>
                <div>
                    Next Price: $<span id="next-price">--</span>
                </div>
                <div class="nav-rules">
                    <a href="#" onclick="openRulesModal(event)" style="color: #FCD34D; text-decoration: none; font-weight: 600; transition: all 0.3s ease;">
                         Auction Rules
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Price Tracker -->
    <div class="price-tracker">
        <div class="tracker-title">Current Price</div>
        <div class="tracker-price">$<span id="tracker-price">--</span></div>
        <div class="tracker-stats">
            <div>Started at: $1</div>
            <div>Purchases: <span id="purchase-count">--</span></div>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notifications"></div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <!-- Last Buyer Bonanza Logo -->
            <div class="bonanza-logo">
                <svg width="200" height="200" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- Background circle -->
                    <circle cx="100" cy="100" r="95" fill="#F59E0B" stroke="#FBBF24" stroke-width="5"/>
                    
                    <!-- Burst effect -->
                    <g transform="translate(100, 100)">
                        <path d="M0,-90 L10,-70 L0,-50 L-10,-70 Z" fill="#FEF3C7" opacity="0.8" transform="rotate(0)"/>
                        <path d="M0,-90 L10,-70 L0,-50 L-10,-70 Z" fill="#FEF3C7" opacity="0.8" transform="rotate(45)"/>
                        <path d="M0,-90 L10,-70 L0,-50 L-10,-70 Z" fill="#FEF3C7" opacity="0.8" transform="rotate(90)"/>
                        <path d="M0,-90 L10,-70 L0,-50 L-10,-70 Z" fill="#FEF3C7" opacity="0.8" transform="rotate(135)"/>
                        <path d="M0,-90 L10,-70 L0,-50 L-10,-70 Z" fill="#FEF3C7" opacity="0.8" transform="rotate(180)"/>
                        <path d="M0,-90 L10,-70 L0,-50 L-10,-70 Z" fill="#FEF3C7" opacity="0.8" transform="rotate(225)"/>
                        <path d="M0,-90 L10,-70 L0,-50 L-10,-70 Z" fill="#FEF3C7" opacity="0.8" transform="rotate(270)"/>
                        <path d="M0,-90 L10,-70 L0,-50 L-10,-70 Z" fill="#FEF3C7" opacity="0.8" transform="rotate(315)"/>
                    </g>
                    
                    <!-- Inner circle -->
                    <circle cx="100" cy="100" r="75" fill="#DC2626" stroke="#B91C1C" stroke-width="3"/>
                    
                    <!-- Text -->
                    <text x="100" y="60" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-size="24" font-weight="900" fill="white" transform="rotate(-5 100 60)">LAST</text>
                    <text x="100" y="90" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-size="28" font-weight="900" fill="white">BUYER</text>
                    <text x="100" y="115" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-size="20" font-weight="900" fill="white">BONUS</text>
                    <text x="100" y="140" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-size="18" font-weight="900" fill="#FEF3C7" transform="rotate(5 100 140)">BONANZA</text>
                    
                    <!-- Stars -->
                    <text x="30" y="50" font-size="20" fill="#FCD34D"></text>
                    <text x="160" y="50" font-size="20" fill="#FCD34D"></text>
                    <text x="30" y="160" font-size="20" fill="#FCD34D"></text>
                    <text x="160" y="160" font-size="20" fill="#FCD34D"></text>
                </svg>
                <p style="color: #FCD34D; font-weight: 700; margin-top: 10px; text-shadow: 0 2px 10px rgba(0,0,0,0.5);">
                    Last Buyer Gets Everything FREE + AI Chatbot!
                </p>
            </div>
            
            <div class="auction-badge"> Reverse Auction Live</div>
            
            <h1 class="hero-title">
                The World's First AI Business<br>
                Reverse Auction
            </h1>
            
            <p class="hero-subtitle">
                Price starts at $1 and increases with each purchase.<br>
                The earlier you buy, the less you pay. Last buyer gets it FREE!
            </p>
            
            <div class="bonus-banner">
                 LAST BUYER WINS: FREE Bundle + Custom AI Website Assistant (Worth $2,388/Year)
            </div>
            
            <div class="rules-link-container">
                <a href="#" class="rules-link" onclick="openRulesModal(event)"> Official Auction Rules</a>
            </div>
            
            <div class="price-card">
                <div class="price-label">Current Auction Price</div>
                <div class="price-display">
                    $<span id="main-price">--</span>
                    <span class="price-change" id="price-change" style="display: none;">+$1</span>
                </div>
                <div class="price-error" id="price-error"></div>
                
                <div class="countdown-wrapper">
                    <div>Auction Ends In:</div>
                    <div class="countdown-timer" id="countdown">--:--:--</div>
                </div>
                
                <div class="auction-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-bar"></div>
                    </div>
                    <div class="progress-stats">
                        <span>Started: $1</span>
                        <span>Target: $100</span>
                    </div>
                </div>
                
                <a href="#" class="cta-button" id="main-cta-button" onclick="purchaseBundle()">
                    <span id="button-text">BUY NOW FOR $<span id="cta-price">--</span></span>
                    <span class="loading" style="display: none;"></span>
                </a>
                
                <div class="auction-status" id="auction-status"></div>
                
                <p style="color: rgba(255,255,255,0.9); font-size: 0.9rem; margin-top: 10px;">
                     Price updates in real-time   SSL Encrypted Checkout   Instant Access
                </p>
                
                <div style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.08); border-radius: 15px; border: 1px solid rgba(255,255,255,0.2);">
                    <p style="color: white; font-weight: 600; margin-bottom: 10px;"> Get notified for future auctions:</p>
                    <form onsubmit="handleSubscribe(event)" style="display: flex; gap: 10px; max-width: 400px; margin: 0 auto;">
                        <input type="email" placeholder="Enter your email" required style="flex: 1; padding: 12px 20px; border-radius: 50px; border: none; font-size: 1rem; background: rgba(255,255,255,0.95); color: var(--dark);">
                        <button type="submit" class="subscribe-btn" style="background: var(--gradient-secondary); color: white; padding: 12px 25px; border: none; border-radius: 50px; font-weight: 700; cursor: pointer; transition: all 0.3s ease;">Subscribe</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Micro-Stepper -->
    <div class="micro-stepper">
        <div class="micro-stepper-content">
            <div class="micro-step">
                 Buy now
            </div>
            <div class="step-arrow"></div>
            <div class="micro-step">
                 Price rises
            </div>
            <div class="step-arrow"></div>
            <div class="micro-step">
                 Last buyer gets everything (+ the Grand Prize) FREE!
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <section class="features fade-in">
        <div class="container">
            <h2 class="section-title">Your Complete AI Business Arsenal</h2>
            <p class="section-subtitle">$1,388+ worth of tools to build, scale, and automate your business empire</p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon"></div>
                    <h3 class="feature-title">Magic Bookifier Pro</h3>
                    <p style="font-size: 0.9rem;">AI-powered book writing assistant. Create full-length books with structured chapters.</p>
                    <ul class="feature-list">
                        <li> Write books in 3-7 days</li>
                        <li> Built-in editing tools</li>
                        <li> Export to Kindle/PDF</li>
                    </ul>
                    <div class="feature-value">$497 Value</div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon"></div>
                    <h3 class="feature-title">Summary of Internet</h3>
                    <p style="font-size: 0.9rem;">Daily AI-curated trend reports. Stay ahead of viral content and market movements.</p>
                    <ul class="feature-list">
                        <li> Daily trending topics</li>
                        <li> Viral content ideas</li>
                        <li> Market opportunities</li>
                    </ul>
                    <div class="feature-value">$397 Value</div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon"></div>
                    <h3 class="feature-title">Legal Business Vault</h3>
                    <p style="font-size: 0.9rem;">12+ lawyer-reviewed templates. Save thousands in legal fees instantly.</p>
                    <ul class="feature-list">
                        <li> Service agreements</li>
                        <li> Privacy policies</li>
                        <li> Partnership docs</li>
                    </ul>
                    <div class="feature-value">$297 Value</div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon"></div>
                    <h3 class="feature-title">Financial Models</h3>
                    <p style="font-size: 0.9rem;">10+ professional Excel models for cash flow, ROI, and business planning.</p>
                    <ul class="feature-list">
                        <li> SaaS models</li>
                        <li> Investment calcs</li>
                        <li> Valuation tools</li>
                    </ul>
                    <div class="feature-value">$197 Value</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Value Comparison Section -->
    <section class="value-comparison fade-in">
        <div class="container">
            <h2 class="section-title">The Traditional Way vs. The Smart Way</h2>
            <div class="comparison-table">
                <div class="comparison-column traditional">
                    <h3> Traditional Approach</h3>
                    <ul>
                        <li><span class="strike">Ghostwriter:</span> $5,000-$25,000</li>
                        <li><span class="strike">Trend Research Tools:</span> $99/month</li>
                        <li><span class="strike">Legal Templates:</span> $200-500 each</li>
                        <li><span class="strike">Financial Consultants:</span> $300/hour</li>
                        <li><span class="strike">Custom AI Chatbot:</span> $199/month</li>
                    </ul>
                    <div class="total-cost">Total: $15,000+ per year</div>
                </div>
                <div class="comparison-column smart">
                    <h3> Your Smart Investment</h3>
                    <ul>
                        <li><span class="check">AI Book Writer:</span> Lifetime Access</li>
                        <li><span class="check">Trend Intelligence:</span> Lifetime Access</li>
                        <li><span class="check">12+ Legal Docs:</span> Instant Download</li>
                        <li><span class="check">10+ Financial Models:</span> Full Access</li>
                        <li><span class="check">Bonus Guides:</span> Included Free</li>
                    </ul>
                    <div class="total-savings">Your Price: Starting at $1</div>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works fade-in">
        <div class="container">
            <h2 class="section-title">How The Reverse Auction Works</h2>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h4>Price Starts at $1</h4>
                    <p>The first buyer gets the entire bundle for just $1. Lucky them!</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h4>Price Increases +$1</h4>
                    <p>After each purchase, the price goes up by $1. No exceptions.</p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h4>24-Hour Limit</h4>
                    <p>When the timer hits zero, the auction ends. No extensions.</p>
                </div>
                <div class="step-card special">
                    <div class="step-number"></div>
                    <h4>Last Buyer Wins Big!</h4>
                    <p>The final purchaser gets 100% refund PLUS a custom AI Intelligent Assistant for their website (worth $2,000+)</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section fade-in">
        <div class="container">
            <h2 class="section-title">Frequently Asked Questions</h2>
            
            <div class="faq-grid">
                <div class="faq-item">
                    <h4 class="faq-question"> How does the reverse auction actually work?</h4>
                    <p class="faq-answer">
                        Simple! The price starts at $1 and increases by $1 with each purchase. First buyer pays $1, second pays $2, third pays $3, and so on. The auction runs for exactly 24 hours. The earlier you buy, the less you pay!
                    </p>
                </div>
                
                <div class="faq-item">
                    <h4 class="faq-question"> What exactly is the "Last Buyer Bonus"?</h4>
                    <p class="faq-answer">
                        The final purchaser before the timer expires gets: (1) Full refund of their purchase price, and (2) A customized HiThereChat AI assistant for their website - a intelligent chatbot trained on their business that can answer customer questions, capture leads, and provide 24/7 support. This normally costs $199/month but the last buyer gets 1 full year FREE (worth $2,388).
                    </p>
                </div>
                
                <div class="faq-item">
                    <h4 class="faq-question"> Are there any monthly fees or hidden costs?</h4>
                    <p class="faq-answer">
                        No! This is a one-time purchase with lifetime access to Magic Bookifier and Summary of the Internet. No subscriptions, no monthly fees, no surprises. The legal templates and financial models are instant downloads you keep forever.
                    </p>
                </div>
                
                <div class="faq-item">
                    <h4 class="faq-question"> How quickly can I access everything?</h4>
                    <p class="faq-answer">
                        Instantly! As soon as your payment is processed, you'll receive login credentials for Magic Bookifier and Summary of the Internet, plus download links for all templates and models. You can start writing your book or tracking trends within minutes.
                    </p>
                </div>
                
                <div class="faq-item">
                    <h4 class="faq-question"> What if I'm not tech-savvy or a good writer?</h4>
                    <p class="faq-answer">
                        Perfect! These tools are designed for busy entrepreneurs, not tech experts or professional writers. Magic Bookifier guides you through simple conversations to create your book. Summary of the Internet sends reports to your email. The templates are ready-to-use Word/Excel files. No technical skills required!
                    </p>
                </div>
                
                <div class="faq-item">
                    <h4 class="faq-question"> Is there a money-back guarantee?</h4>
                    <p class="faq-answer">
                        Yes! You have a full 30-day money-back guarantee. If you're not completely satisfied with your purchase, just contact our support team for a full refund. No questions asked. We're confident you'll love these tools!
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Trust Section -->
    <section class="trust-section fade-in">
        <div class="container">
            <div class="trust-badges">
                <div class="trust-badge">
                    <div class="badge-icon"></div>
                    <div class="badge-text">
                        <strong>Secure Checkout</strong>
                        <span>256-bit SSL Encryption</span>
                    </div>
                </div>
                <div class="trust-badge">
                    <div class="badge-icon"></div>
                    <div class="badge-text">
                        <strong>Safe Payment</strong>
                        <span>Visa, Mastercard, PayPal</span>
                    </div>
                </div>
                <div class="trust-badge">
                    <div class="badge-icon"></div>
                    <div class="badge-text">
                        <strong>30-Day Guarantee</strong>
                        <span>100% Money Back</span>
                    </div>
                </div>
                <div class="trust-badge">
                    <div class="badge-icon"></div>
                    <div class="badge-text">
                        <strong>Instant Access</strong>
                        <span>Start in 60 Seconds</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Final CTA -->
    <section class="final-cta fade-in">
        <div class="container">
            <div class="final-cta-content">
                <h2 style="font-size: 2.5rem; margin-bottom: 20px;">
                    The Clock Is Ticking... What Will You Choose?
                </h2>
                <p style="font-size: 1.2rem; margin-bottom: 30px; opacity: 0.9;">
                     Pay $<span id="final-price" style="color: var(--secondary); font-weight: 700;">--</span> now for $1,388 worth of business tools...<br>
                     Or wait and risk paying more (current trajectory: $100+ by midnight)<br>
                     Or be the last buyer and get EVERYTHING FREE + Custom AI Website Assistant (Worth $2,388/year)!
                </p>
                
                <div class="urgency-box">
                    <p> <strong>WARNING:</strong> At the current rate, the price will exceed $100 in the next 4 hours</p>
                </div>
                
                <a href="#" class="cta-button" id="final-cta-button" onclick="purchaseBundle()">
                    LOCK IN MY PRICE AT $<span id="final-cta-price">--</span> NOW
                </a>
                
                <p style="margin-top: 20px; opacity: 0.8;">
                     30-day money-back guarantee   Secure checkout   Instant access
                </p>
                
                <p style="margin-top: 15px;">
                    <a href="#" class="rules-link" onclick="openRulesModal(event)"> View Official Auction Rules</a>
                </p>
                
                <div class="social-proof">
                    <p style="margin-top: 30px; font-size: 0.95rem; opacity: 0.9;">
                        <strong>Join <span id="social-proof-count">--</span>+ smart entrepreneurs</strong> who already secured their bundle at lower prices
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#" class="footer-link" onclick="openTermsModal(event)">Terms of Use</a>
                <span style="color: rgba(255, 255, 255, 0.4);"></span>
                <a href="mailto:support@supremerobotpictures.com" class="footer-link">Contact Support</a>
            </div>
            <div class="footer-copyright">
                 2024 Supreme Robot Pictures LLC. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Rules Modal -->
    <div id="rulesModal" class="modal">
        <div class="modal-content enhanced-rules-modal">
            <span class="modal-close" onclick="closeRulesModal()">&times;</span>
            
            <!-- Header Section -->
            <div class="modal-header">
                <div class="rules-icon"></div>
                <h2 class="modal-title">Official Auction Rules</h2>
                <p class="modal-subtitle">Everything you need to know about our revolutionary reverse auction</p>
            </div>
            
            <!-- TL;DR Summary -->
            <div class="tldr-section">
                <div class="tldr-title"> TL;DR - How It Works</div>
                <div class="tldr-flow">
                    <div class="flow-step">
                         Buy now (starts at $1)
                    </div>
                    <div class="flow-arrow"></div>
                    <div class="flow-step">
                         Price increases +$1
                    </div>
                    <div class="flow-arrow"></div>
                    <div class="flow-step">
                         Last buyer gets bundle for FREE and the Grand Prize
                    </div>
                </div>
            </div>
            
            <!-- Rules Cards -->
            <div class="rules-grid">
                <div class="rule-card opening-price">
                    <div class="rule-icon"></div>
                    <h3 class="rule-title">Opening Price</h3>
                    <div class="rule-content">
                        <p>The auction starts at <span class="highlight-price">$1</span></p>
                        <p class="rule-detail">Each purchase raises the price by exactly <span class="highlight">$1</span></p>
                    </div>
                </div>
                
                <div class="rule-card delivery">
                    <div class="rule-icon"></div>
                    <h3 class="rule-title">Instant Delivery</h3>
                    <div class="rule-content">
                        <p>Your bundle unlock key is sent to your email</p>
                        <p class="rule-detail">Usually within <span class="highlight">5 minutes</span> of purchase</p>
                    </div>
                </div>
                
                <div class="rule-card last-buyer special-rule">
                    <div class="rule-icon"></div>
                    <h3 class="rule-title">Last Buyer Bonus</h3>
                    <div class="rule-content">
                        <p>The <span class="highlight">final purchaser</span> gets:</p>
                        <ul class="bonus-list">
                            <li> <span class="highlight">100% refund</span> - You get it FREE!</li>
                            <li> Custom AI Website Assistant</li>
                            <li> Worth <span class="highlight">$2,388/year</span></li>
                        </ul>
                    </div>
                </div>
                
                <div class="rule-card timing">
                    <div class="rule-icon"></div>
                    <h3 class="rule-title">Timing & Duration</h3>
                    <div class="rule-content">
                        <p>Auction runs for <span class="highlight">23-26 hours</span></p>
                        <p class="rule-detail">Start time announced to email subscribers first</p>
                        <p class="rule-detail">May end at any point during the window</p>
                    </div>
                </div>
            </div>
            
            <!-- Key Points Summary -->
            <div class="key-points">
                <h3> Key Points</h3>
                <div class="points-grid">
                    <div class="point">
                        <span class="point-icon"></span>
                        <span>First buyer pays only $1</span>
                    </div>
                    <div class="point">
                        <span class="point-icon"></span>
                        <span>Price increases with each sale</span>
                    </div>
                    <div class="point">
                        <span class="point-icon"></span>
                        <span>Last buyer wins everything FREE</span>
                    </div>
                    <div class="point">
                        <span class="point-icon"></span>
                        <span>Email alerts for auction start</span>
                    </div>
                </div>
            </div>
            
            <!-- Newsletter Signup -->
            <div class="newsletter-section">
                <div class="newsletter-header">
                    <h3> Get Notified First</h3>
                    <p>Join our VIP list to receive auction start alerts and exclusive updates</p>
                </div>
                <form onsubmit="handleSubscribe(event)" class="newsletter-form">
                    <div class="email-input-group">
                        <input type="email" placeholder="Enter your email for auction alerts" required class="email-input">
                        <button type="submit" class="modal-cta">
                            <span>Subscribe</span>
                            <span class="btn-icon"></span>
                        </button>
                    </div>
                    <p class="privacy-note">
                         We respect your privacy. No spam, unsubscribe anytime.
                    </p>
                </form>
            </div>
            
            <!-- Mini FAQ Section -->
            <div class="mini-faq">
                <h3> Most Common Questions</h3>
                <div class="faq-quick-list">
                    <div class="faq-quick-item">
                        <div class="faq-quick-question">When does the auction start?</div>
                        <div class="faq-quick-answer">We announce start times to email subscribers first. Join the list above to get notified!</div>
                    </div>
                    <div class="faq-quick-item">
                        <div class="faq-quick-question">How do I know if I'm the last buyer?</div>
                        <div class="faq-quick-answer">The auction ends when the timer reaches zero. The final recorded purchase in Stripe wins the refund.</div>
                    </div>
                    <div class="faq-quick-item">
                        <div class="faq-quick-question">What if I buy and someone buys after me?</div>
                        <div class="faq-quick-answer">You keep your bundle at the price you paid. Only the very last buyer gets the refund + bonus.</div>
                    </div>
                    <div class="faq-quick-item">
                        <div class="faq-quick-question">Is this legit or a scam?</div>
                        <div class="faq-quick-answer">100% legitimate with 30-day money-back guarantee. Thousands of entrepreneurs have already participated. <span class="faq-trust-badge"> Stripe Verified</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms of Use Modal -->
    <div id="termsModal" class="terms-modal">
        <div class="terms-modal-content">
            <div class="terms-modal-header">
                <h2 class="terms-modal-title">Terms of Use</h2>
                <button class="terms-close" onclick="closeTermsModal()">&times;</button>
            </div>
            <div class="terms-modal-body">
                <div class="terms-content">
                    <h2>Welcome to The Last Buyer Bonus Bonanza!</h2>
                    <p>These Terms of Use govern your participation in our revolutionary reverse auction system for the AI Business Bundle. By participating, you agree to these terms.</p>

                    <h2>About Our Reverse Auction</h2>
                    <p>Our innovative auction system works differently from traditional auctions:</p>
                    <ul>
                        <li><strong>Price Increases Over Time:</strong> The bundle price starts low and continuously increases</li>
                        <li><strong>Limited Quantity:</strong> Only a specific number of bundles are available</li>
                        <li><strong>First-Come, First-Served:</strong> When you purchase, you lock in the current price</li>
                        <li><strong>Real-Time Updates:</strong> Prices and quantities update live across all participants</li>
                    </ul>

                    <div class="highlight">
                        <strong>Important:</strong> Once you complete your purchase, your price is locked and guaranteed. You cannot cancel to wait for a lower price.
                    </div>

                    <h2>Product Details</h2>
                    <p>The AI Business Bundle includes:</p>
                    <ul>
                        <li>Premium AI Tools and Software</li>
                        <li>Business Automation Suite</li>
                        <li>Marketing and Content Creation Tools</li>
                        <li>Legal Business Document Templates</li>
                        <li>Customer Support</li>
                        <li>Lifetime Updates and New Tool Additions</li>
                    </ul>

                    <h3>Digital Delivery</h3>
                    <p>All products are delivered digitally via email within 24 hours of purchase confirmation. You will receive:</p>
                    <ul>
                        <li>Download links for all software and tools</li>
                        <li>License keys and activation instructions</li>
                        <li>Setup guides and tutorials</li>
                    </ul>

                    <h2>Pricing and Payment</h2>
                    <h3>Auction Mechanics</h3>
                    <p>Our reverse auction operates on a sophisticated algorithm that:</p>
                    <ul>
                        <li>Increases prices after each purchase</li>
                        <li>Adjusts based on real-time demand</li>
                        <li>Ensures fair pricing for all participants</li>
                        <li>Maintains inventory accuracy across all sessions</li>
                    </ul>

                    <h3>Payment Processing</h3>
                    <p>We accept all major credit cards and PayPal. All transactions are secured through Stripe, ensuring your payment information is protected with bank-level security.</p>

                    <h2>Refund Policy</h2>
                    <div class="highlight">
                        <strong>30-Day Money-Back Guarantee:</strong> We stand behind our products. If you're not completely satisfied within 30 days of purchase, contact us for a full refund.
                    </div>

                    <h3>Refund Process</h3>
                    <p>To request a refund:</p>
                    <ul>
                        <li>Contact our support team within 30 days</li>
                        <li>Provide your order number and reason for refund</li>
                        <li>We'll process your refund within 5-7 business days</li>
                        <li>Refunds are issued to your original payment method</li>
                    </ul>

                    <h2>User Responsibilities</h2>
                    <p>By participating in our auction, you agree to:</p>
                    <ul>
                        <li>Provide accurate contact and payment information</li>
                        <li>Use the purchased software in accordance with individual license terms</li>
                        <li>Not attempt to manipulate or interfere with the auction system</li>
                        <li>Respect intellectual property rights of included software</li>
                        <li>Not resell or redistribute the bundle or individual components</li>
                    </ul>

                    <h2>Technical Requirements</h2>
                    <p>To participate in our auction and use the AI Business Bundle:</p>
                    <ul>
                        <li>Modern web browser (Chrome, Firefox, Safari, Edge)</li>
                        <li>Stable internet connection</li>
                        <li>JavaScript enabled</li>
                        <li>Compatible operating system for included software</li>
                    </ul>

                    <h2>Privacy and Data Protection</h2>
                    <p>We respect your privacy and protect your personal information:</p>
                    <ul>
                        <li>We collect only necessary information for order processing</li>
                        <li>Your data is never sold to third parties</li>
                        <li>Payment information is handled securely by Stripe</li>
                        <li>You can request data deletion at any time</li>
                    </ul>

                    <h2>Limitation of Liability</h2>
                    <p>Supreme Robot Pictures LLC provides the AI Business Bundle "as is" without warranties. Our liability is limited to the purchase price of the bundle. We are not responsible for:</p>
                    <ul>
                        <li>Individual software performance or compatibility issues</li>
                        <li>Business results or outcomes from using the tools</li>
                        <li>Third-party software updates or discontinuation</li>
                        <li>Technical difficulties during the auction process</li>
                    </ul>

                    <h2>Modifications to Terms</h2>
                    <p>We reserve the right to update these terms at any time. Changes will be posted on this page and take effect immediately. Continued participation constitutes acceptance of modified terms.</p>

                    <h2>Contact Information</h2>
                    <p><strong>Supreme Robot Pictures LLC</strong></p>
                    <p>Email: <a href="mailto:support@supremerobotpictures.com">support@supremerobotpictures.com</a></p>
                    <p>Business Hours: Monday-Friday, 9 AM - 6 PM EST</p>
                    <p>Response Time: Within 24 hours</p>

                    <div class="highlight">
                        <strong>Questions?</strong> Our support team is here to help! Contact us anytime with questions about the auction, products, or these terms.
                    </div>

                    <p style="margin-top: 30px; font-size: 0.9rem; color: #666; text-align: center;">
                        Last Updated: June 10, 2025<br>
                         2024 Supreme Robot Pictures LLC. All rights reserved.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // API Configuration
        const API_URL = 'https://kqbkvywvdbglinqikmxx.supabase.co/functions/v1/current';
        
        // Live Viewer API Configuration - Use lastbuyerbonanza.com as primary
        const VIEWER_API_URL = 'https://lastbuyerbonanza.com/api'; // Primary production domain
        
        // Fallback URLs for development/testing
        const VIEWER_API_FALLBACKS = [
            window.location.origin + '/api', // Try current domain
            'https://my-vercel-html-kb3mmdegq-ryans-projects-d565ecc1.vercel.app/api',
            'https://my-vercel-html-lirarz4hg-ryans-projects-d565ecc1.vercel.app/api',
            'http://localhost:3001/api'
        ];
        
        // Enable real API mode for live viewer tracking!
        const USE_SIMULATION_MODE = false; // Real API mode enabled at lastbuyerbonanza.com
        const DEBUG = window.location.search.includes('debug=true');
        
        // Detect device capabilities
        function detectDevice() {
            isMobile = window.innerWidth <= 768;
            isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            
            // Enable performance mode on older/slower devices
            const isOldDevice = /Android [1-6]|iPhone [1-8]|iPad[1-6]/.test(navigator.userAgent);
            const isSlowConnection = navigator.connection && navigator.connection.effectiveType === 'slow-2g';
            performanceMode = isOldDevice || isSlowConnection || window.devicePixelRatio > 2;
            
            if (performanceMode) {
                document.body.classList.add('performance-mode');
                console.log('Performance mode enabled');
            }
            
            if (DEBUG) {
                console.log('Device info:', {
                    isMobile,
                    isTouch,
                    performanceMode,
                    screenWidth: window.innerWidth,
                    pixelRatio: window.devicePixelRatio,
                    connection: navigator.connection?.effectiveType
                });
            }
        }
        
        // Enhanced touch handling
        function setupTouchEnhancements() {
            if (!isTouch) return;
            
            // Add touch feedback to buttons
            const touchElements = document.querySelectorAll('.cta-button, .rules-link, .subscribe-btn, .modal-cta');
            
            touchElements.forEach(element => {
                element.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.98)';
                    this.style.transition = 'transform 0.1s ease';
                }, { passive: true });
                
                element.addEventListener('touchend', function() {
                    this.style.transform = '';
                    this.style.transition = 'transform 0.3s ease';
                }, { passive: true });
                
                element.addEventListener('touchcancel', function() {
                    this.style.transform = '';
                    this.style.transition = 'transform 0.3s ease';
                }, { passive: true });
            });
            
            // Prevent zoom on double tap for iOS
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        }
        
        // Optimize animations for mobile
        function optimizeAnimations() {
            if (performanceMode) {
                // Disable heavy animations on slow devices
                const style = document.createElement('style');
                style.textContent = `
                    .performance-mode .animated-bg::before,
                    .performance-mode .floating-bubble,
                    .performance-mode .shimmer {
                        animation: none !important;
                    }
                    .performance-mode .backdrop-filter {
                        backdrop-filter: none !important;
                    }
                `;
                document.head.appendChild(style);
            }
            
            if (isMobile) {
                // Reduce motion intensity on mobile
                const mobileStyle = document.createElement('style');
                mobileStyle.textContent = `
                    @media (max-width: 768px) {
                        .feature-card:hover,
                        .step-card:hover,
                        .faq-item:hover {
                            transform: translateY(-2px) !important;
                        }
                        .floating-bubble {
                            animation-duration: 30s !important;
                        }
                    }
                `;
                document.head.appendChild(mobileStyle);
            }
        }
        
        // Enhanced viewport handling
        function handleViewportChanges() {
            // Update on orientation change
            window.addEventListener('orientationchange', function() {
                setTimeout(() => {
                    detectDevice();
                    // Refresh layout
                    updateViewportHeight();
                }, 100);
            });
            
            // Handle resize with debouncing
            let resizeTimeout;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    detectDevice();
                    updateViewportHeight();
                    repositionFloatingElements();
                }, 250);
            });
        }
        
        // Fix viewport height on mobile
        function updateViewportHeight() {
            if (isMobile) {
                const vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            }
        }
        
        // Reposition floating elements on small screens
        function repositionFloatingElements() {
            const priceTracker = document.querySelector('.price-tracker');
            const notifications = document.querySelector('.notification-container');
            
            if (isMobile && priceTracker) {
                // Ensure price tracker doesn't overlap with notifications
                if (notifications && notifications.children.length > 0) {
                    priceTracker.style.bottom = '120px';
                } else {
                    priceTracker.style.bottom = '20px';
                }
            }
        }
        
        // Enhanced scroll performance
        function optimizeScrolling() {
            let ticking = false;
            
            function updateOnScroll() {
                // Intersection observer handles most animations
                // Only do critical updates here
                repositionFloatingElements();
                ticking = false;
            }
            
            window.addEventListener('scroll', function() {
                if (!ticking) {
                    requestAnimationFrame(updateOnScroll);
                    ticking = true;
                }
            }, { passive: true });
        }
        
        // Smart loading for heavy content
        function setupLazyLoading() {
            // Lazy load heavy animations
            const heavyAnimations = document.querySelectorAll('.animated-bg, .floating-bubble');
            
            if ('IntersectionObserver' in window) {
                const animationObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animated');
                            animationObserver.unobserve(entry.target);
                        }
                    });
                });
                
                heavyAnimations.forEach(element => {
                    if (!performanceMode) {
                        animationObserver.observe(element);
                    }
                });
            }
        }
        
        // Enhanced notification system for mobile
        function showMobileOptimizedNotification(header, body) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            
            // Shorter text on mobile
            if (isMobile && body.length > 60) {
                body = body.substring(0, 57) + '...';
            }
            
            notification.innerHTML = `
                <div class="notification-header">${header}</div>
                <div class="notification-body">${body}</div>
            `;
            
            const container = document.getElementById('notifications');
            if (container) {
                container.appendChild(notification);
                
                // Auto-remove faster on mobile
                const timeout = isMobile ? 3000 : 5000;
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.style.animation = 'slideInLeft 0.5s ease-out reverse';
                        setTimeout(() => notification.remove(), 500);
                    }
                }, timeout);
                
                // Keep fewer notifications on mobile
                const maxNotifications = isMobile ? 2 : 3;
                const allNotifications = container.children;
                if (allNotifications.length > maxNotifications) {
                    allNotifications[0].remove();
                }
            }
        }
        
        // Enhanced modal handling for mobile
        function setupMobileModalEnhancements() {
            const modal = document.getElementById('rulesModal');
            if (!modal) return;
            
            // Prevent background scrolling when modal is open
            function preventBodyScroll(prevent) {
                if (prevent) {
                    document.body.style.overflow = 'hidden';
                    document.body.style.position = 'fixed';
                    document.body.style.width = '100%';
                } else {
                    document.body.style.overflow = '';
                    document.body.style.position = '';
                    document.body.style.width = '';
                }
            }
            
            // Enhanced modal open
            window.openRulesModal = function(event) {
                event.preventDefault();
                modal.style.display = 'block';
                preventBodyScroll(true);
                
                // Focus management for accessibility
                const closeButton = modal.querySelector('.modal-close');
                if (closeButton) closeButton.focus();
            };
            
            // Enhanced modal close
            window.closeRulesModal = function() {
                modal.style.display = 'none';
                preventBodyScroll(false);
            };
            
            // Touch-friendly modal closing
            modal.addEventListener('touchstart', function(event) {
                if (event.target === modal) {
                    closeRulesModal();
                }
            }, { passive: true });
            
            // Escape key support
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && modal.style.display === 'block') {
                    closeRulesModal();
                }
            });
        }
        
        // Performance monitoring
        function monitorPerformance() {
            if (!DEBUG) return;
            
            // Monitor frame rate
            let frames = 0;
            let lastTime = performance.now();
            
            function countFrames() {
                frames++;
                const currentTime = performance.now();
                
                if (currentTime >= lastTime + 1000) {
                    console.log(`FPS: ${frames}`);
                    frames = 0;
                    lastTime = currentTime;
                }
                
                requestAnimationFrame(countFrames);
            }
            
            requestAnimationFrame(countFrames);
            
            // Monitor memory usage
            if (performance.memory) {
                setInterval(() => {
                    const memory = performance.memory;
                    console.log('Memory usage:', {
                        used: Math.round(memory.usedJSHeapSize / 1048576) + 'MB',
                        total: Math.round(memory.totalJSHeapSize / 1048576) + 'MB',
                        limit: Math.round(memory.jsHeapSizeLimit / 1048576) + 'MB'
                    });
                }, 30000);
            }
        }
        
        // Initialize mobile enhancements
        function initializeMobileEnhancements() {
            detectDevice();
            updateViewportHeight();
            setupTouchEnhancements();
            optimizeAnimations();
            handleViewportChanges();
            optimizeScrolling();
            setupLazyLoading();
            setupMobileModalEnhancements();
            
            if (DEBUG) {
                monitorPerformance();
            }
            
            // Add CSS custom properties for JavaScript
            document.documentElement.style.setProperty('--is-mobile', isMobile ? '1' : '0');
            document.documentElement.style.setProperty('--is-touch', isTouch ? '1' : '0');
        }
        
        // Enhanced error logging
        function logError(error, context = '') {
            const errorInfo = {
                timestamp: new Date().toISOString(),
                context: context,
                error: error.message || error,
                userAgent: navigator.userAgent,
                url: window.location.href
            };
            
            console.error('Auction App Error:', errorInfo);
            
            // In production, send to error tracking service
            if (!DEBUG && window.gtag) {
                gtag('event', 'exception', {
                    description: `${context}: ${error.message || error}`,
                    fatal: false
                });
            }
        }
        
        // State Management
        let currentData = {
            price: null,
            status: 'loading',
            payment_link: '#',
            purchase_count: null
        };
        
        let refreshInterval = null;
        let errorCount = 0;
        let lastPrice = null;
        let timeLeft = 24 * 3600; // 24 hours in seconds
        // Real-time viewer tracking system
        let viewerCount = 0;
        let lastHeartbeat = Date.now();
        let sessionId = generateSessionId();
        let currentApiUrl = VIEWER_API_URL; // Track which API URL is working
        let apiFailCount = 0;
        
        // Generate unique session ID for this viewer
        function generateSessionId() {
            return 'viewer_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }
        
        // Try API endpoints in order until one works
        async function tryViewerAPI(endpoint, body, method = 'POST') {
            const urlsToTry = [currentApiUrl, ...VIEWER_API_FALLBACKS].filter((url, index, self) => 
                self.indexOf(url) === index // Remove duplicates
            );
            
            for (const apiUrl of urlsToTry) {
                try {
                    const response = await fetch(apiUrl + endpoint, {
                        method: method,
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: body ? JSON.stringify(body) : undefined
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        currentApiUrl = apiUrl; // Remember working API
                        apiFailCount = 0; // Reset fail counter
                        return data;
                    }
                } catch (error) {
                    if (DEBUG) {
                        console.log(`API ${apiUrl} failed:`, error.message);
                    }
                }
            }
            
            // All APIs failed
            apiFailCount++;
            throw new Error('All viewer API endpoints failed');
        }
        
        // Send viewer heartbeat to track live viewers
        async function sendViewerHeartbeat() {
            // Check if we should use simulation mode
            if (USE_SIMULATION_MODE) {
                simulateViewerCount();
                if (DEBUG) {
                    console.log('Using simulation mode for viewer tracking');
                }
                return;
            }
            
            try {
                const data = await tryViewerAPI('/viewers', {
                    session_id: sessionId,
                    timestamp: Date.now(),
                    page_url: window.location.href,
                    user_agent: navigator.userAgent.substring(0, 100) // Truncate for privacy
                });
                
                if (data.live_viewers !== undefined) {
                    viewerCount = data.live_viewers;
                    updateViewerCount();
                    
                    if (DEBUG) {
                        console.log(`Live viewers from API: ${viewerCount} (${data.is_new_session ? 'new session' : 'existing session'})`);
                    }
                }
                
            } catch (error) {
                if (DEBUG) {
                    console.log('All viewer APIs failed, using simulation:', error.message);
                }
                // Fallback to simulated count if all APIs fail
                simulateViewerCount();
            }
        }
        
        // Send leave notification when user exits
        async function sendViewerLeave() {
            try {
                // Use sendBeacon for reliability during page unload
                const data = JSON.stringify({
                    session_id: sessionId,
                    timestamp: Date.now()
                });
                
                navigator.sendBeacon(currentApiUrl + '/viewers/leave', data);
            } catch (error) {
                if (DEBUG) {
                    console.log('Failed to send viewer leave notification:', error);
                }
            }
        }
        
        // Fallback simulation for when API is unavailable
        function simulateViewerCount() {
            // Base count with some realistic fluctuation
            const baseCount = Math.floor(Math.random() * 50) + 180; // 180-230 base
            const timeOfDay = new Date().getHours();
            
            // Adjust based on time of day (more viewers during business hours)
            let multiplier = 1;
            if (timeOfDay >= 9 && timeOfDay <= 17) {
                multiplier = 1.3; // 30% more during business hours
            } else if (timeOfDay >= 18 && timeOfDay <= 22) {
                multiplier = 1.2; // 20% more during evening
            } else if (timeOfDay >= 0 && timeOfDay <= 6) {
                multiplier = 0.6; // 40% less during night
            }
            
            viewerCount = Math.floor(baseCount * multiplier);
            
            // Add small random fluctuation
            const change = Math.floor(Math.random() * 16) - 8;
            viewerCount = Math.max(120, viewerCount + change);
        }
        
        // Update viewer count display
        function updateViewerCount() {
            if (elements.stats.viewersCount) {
                elements.stats.viewersCount.textContent = viewerCount;
            }
            
            // Add visual effect when count changes significantly
            const countElement = elements.stats.viewersCount?.parentElement;
            if (countElement && viewerCount > 0) {
                countElement.style.animation = 'none';
                setTimeout(() => {
                    countElement.style.animation = 'pulse 2s infinite';
                }, 10);
            }
        }
        
        // Track when viewers join/leave based on purchases
        function updateViewersOnPurchase() {
            // Simulate viewers joining after seeing a purchase
            const joiners = Math.floor(Math.random() * 8) + 3; // 3-10 new viewers
            viewerCount += joiners;
            updateViewerCount();
            
            if (DEBUG) {
                console.log(`+${joiners} viewers joined after purchase. Total: ${viewerCount}`);
            }
        }
        
        // Cache DOM elements with validation
        const elements = {
            prices: {
                main: document.getElementById('main-price'),
                live: document.getElementById('live-price'),
                floating: document.getElementById('floating-price'),
                tracker: document.getElementById('tracker-price'),
                cta: document.getElementById('cta-price'),
                final: document.getElementById('final-price'),
                finalCta: document.getElementById('final-cta-price'),
                next: document.getElementById('next-price')
            },
            stats: {
                buyersCount: document.getElementById('buyers-count'),
                purchaseCount: document.getElementById('purchase-count'),
                socialProofCount: document.getElementById('social-proof-count'),
                viewersCount: document.getElementById('viewers-count')
            },
            ui: {
                progressBar: document.getElementById('progress-bar'),
                priceChange: document.getElementById('price-change'),
                countdown: document.getElementById('countdown'),
                priceError: document.getElementById('price-error'),
                auctionStatus: document.getElementById('auction-status'),
                mainCtaButton: document.getElementById('main-cta-button'),
                finalCtaButton: document.getElementById('final-cta-button'),
                buttonText: document.getElementById('button-text')
            }
        };

        // Validate DOM elements exist
        function validateElements() {
            const missingElements = [];
            
            Object.keys(elements).forEach(category => {
                Object.keys(elements[category]).forEach(key => {
                    if (!elements[category][key]) {
                        missingElements.push(`${category}.${key}`);
                    }
                });
            });
            
            if (missingElements.length > 0) {
                logError(`Missing DOM elements: ${missingElements.join(', ')}`, 'DOM_VALIDATION');
                console.warn('Missing DOM elements:', missingElements);
            }
            
            return missingElements.length === 0;
        }
        
        // Update all price displays
        function updatePrices(price) {
            Object.keys(elements.prices).forEach(key => {
                if (elements.prices[key]) {
                    if (key === 'next') {
                        elements.prices[key].textContent = price + 1;
                    } else {
                        elements.prices[key].textContent = price;
                    }
                }
            });
            
            // Update purchase counts
            const purchaseCount = currentData.purchase_count || price;
            if (elements.stats.buyersCount) elements.stats.buyersCount.textContent = purchaseCount;
            if (elements.stats.purchaseCount) elements.stats.purchaseCount.textContent = purchaseCount;
            if (elements.stats.socialProofCount) elements.stats.socialProofCount.textContent = purchaseCount;
            
            // Update progress bar
            if (elements.ui.progressBar) {
                const progress = Math.min((price / 100) * 100, 100);
                elements.ui.progressBar.style.width = progress + '%';
            }
        }
        
        // Update buy button state
        function updateBuyButtons(paymentLink, status) {
            const buttons = [elements.ui.mainCtaButton, elements.ui.finalCtaButton];
            
            buttons.forEach(button => {
                if (!button) return;
                
                if (status === 'open') {
                    button.href = paymentLink || '#';
                    button.classList.remove('disabled');
                    
                    // Update button text
                    const priceSpan = button.querySelector('span[id*="price"]');
                    if (priceSpan && currentData.price) {
                        button.innerHTML = button.innerHTML.replace(/BUY NOW FOR \$\d+|LOCK IN MY PRICE AT \$\d+ NOW|SECURE MY BUNDLE FOR \$\d+/, 
                            button.id === 'final-cta-button' ? 
                            `LOCK IN MY PRICE AT ${currentData.price} NOW` : 
                            `BUY NOW FOR ${currentData.price}`
                        );
                    }
                } else {
                    button.classList.add('disabled');
                    button.innerHTML = button.innerHTML.replace(/BUY NOW|LOCK IN|SECURE/, 'AUCTION CLOSED');
                }
            });
        }
        
        // Show price change animation
        function showPriceChange(oldPrice, newPrice) {
            if (oldPrice !== null && oldPrice !== newPrice && elements.ui.priceChange) {
                elements.ui.priceChange.style.display = 'inline-block';
                elements.ui.priceChange.textContent = `+${newPrice - oldPrice}`;
                setTimeout(() => {
                    elements.ui.priceChange.style.display = 'none';
                }, 3000);
                
                // Show notification
                showPriceIncreaseNotification(oldPrice, newPrice);
            }
        }
        
        // Show price increase notification (mobile-optimized)
        function showPriceIncreaseNotification(oldPrice, newPrice) {
            const names = [
                'Sarah M.', 'James K.', 'Emma L.', 'Michael T.', 'Lisa R.',
                'Robert S.', 'Jennifer D.', 'Chris W.', 'Amanda B.', 'Steven H.',
                'Jessica P.', 'Matthew C.', 'Ashley N.', 'Daniel F.', 'Michelle G.'
            ];
            const locations = [
                'New York', 'Los Angeles', 'Chicago', 'Houston', 'Phoenix',
                'Philadelphia', 'San Antonio', 'San Diego', 'Dallas', 'Austin',
                'Miami', 'Seattle', 'Boston', 'Denver', 'Atlanta'
            ];
            
            const name = names[Math.floor(Math.random() * names.length)];
            const location = locations[Math.floor(Math.random() * locations.length)];
            
            const header = ' Price Just Increased!';
            const body = `${name} from ${location} just purchased at $${oldPrice}. New price is now $${newPrice}!`;
            
            // Use mobile-optimized notification if function exists
            if (typeof showMobileOptimizedNotification === 'function') {
                showMobileOptimizedNotification(header, body);
            } else {
                // Fallback to regular notification
                const notification = document.createElement('div');
                notification.className = 'notification';
                notification.innerHTML = `
                    <div class="notification-header">${header}</div>
                    <div class="notification-body">${body}</div>
                `;
                
                const container = document.getElementById('notifications');
                if (container) {
                    container.appendChild(notification);
                    
                    setTimeout(() => {
                        notification.style.animation = 'slideInLeft 0.5s ease-out reverse';
                        setTimeout(() => notification.remove(), 500);
                    }, 5000);
                    
                    // Keep only last 3 notifications
                    const allNotifications = container.children;
                    if (allNotifications.length > 3) {
                        allNotifications[0].remove();
                    }
                }
            }
            
            // Spike viewer count on purchase
            updateViewersOnPurchase();
        }
        
        // Show error state
        function showError(message) {
            if (elements.ui.priceError) {
                elements.ui.priceError.textContent = message;
                elements.ui.priceError.style.display = 'block';
            }
            
            // Update all price displays to show error state
            Object.values(elements.prices).forEach(el => {
                if (el) el.textContent = '--';
            });
        }
        
        // Hide error state
        function hideError() {
            if (elements.ui.priceError) {
                elements.ui.priceError.style.display = 'none';
            }
        }
        
        // Get refresh interval based on error count
        function getRefreshInterval() {
            if (errorCount > 5) return 60000; // 60 seconds
            if (errorCount > 3) return 30000; // 30 seconds
            if (errorCount > 0) return 10000; // 10 seconds
            return 5000; // Default 5 seconds
        }
        
        // Main refresh function
        async function refresh() {
            try {
                const response = await fetch(API_URL);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                
                const data = await response.json();
                
                if (DEBUG) console.log('API Response:', data);
                
                // Store old price for comparison
                const oldPrice = currentData.price;
                
                // Update current data
                currentData = {
                    price: data.price || 1,
                    status: data.status || 'open',
                    payment_link: data.payment_link || '#',
                    purchase_count: data.purchase_count || data.price || 1
                };
                
                // Clear any errors
                hideError();
                errorCount = 0;
                
                // Update UI
                updatePrices(currentData.price);
                updateBuyButtons(currentData.payment_link, currentData.status);
                
                // Show price change animation if price increased
                if (oldPrice !== null && currentData.price > oldPrice) {
                    showPriceChange(oldPrice, currentData.price);
                }
                
                // Update auction status
                if (elements.ui.auctionStatus) {
                    if (currentData.status !== 'open') {
                        elements.ui.auctionStatus.textContent = 'Auction has ended!';
                        elements.ui.auctionStatus.classList.add('closed');
                    } else {
                        elements.ui.auctionStatus.textContent = '';
                        elements.ui.auctionStatus.classList.remove('closed');
                    }
                }
                
                // Save last successful price
                lastPrice = currentData.price;
                
            } catch (error) {
                logError(error, 'API_FETCH');
                console.error('API error:', error);
                errorCount++;
                
                // Show error message after multiple failures
                if (errorCount > 2) {
                    showError('Unable to load current price. Please refresh the page.');
                }
                
                // Use last known price if available
                if (lastPrice !== null) {
                    updatePrices(lastPrice);
                }
                
                // Adjust refresh interval based on error count
                clearInterval(refreshInterval);
                refreshInterval = setInterval(refresh, getRefreshInterval());
            }
        }
        
        // Purchase handler
        window.purchaseBundle = function() {
            if (currentData.payment_link && currentData.status === 'open') {
                // Show loading state
                if (elements.ui.buttonText) {
                    const originalText = elements.ui.buttonText.innerHTML;
                    elements.ui.buttonText.innerHTML = '<span class="loading"></span> Processing...';
                    
                    // Navigate after brief delay for UX
                    setTimeout(() => {
                        window.location.href = currentData.payment_link;
                    }, 500);
                }
            } else {
                alert('The auction is currently closed. Please try again later.');
            }
            return false;
        };
        
        // Modal functions
        function openRulesModal(event) {
            event.preventDefault();
            document.getElementById('rulesModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
        
        function closeRulesModal() {
            document.getElementById('rulesModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const rulesModal = document.getElementById('rulesModal');
            const termsModal = document.getElementById('termsModal');
            
            if (event.target === rulesModal) {
                closeRulesModal();
            }
            if (event.target === termsModal) {
                closeTermsModal();
            }
        }

        // Terms Modal functions
        function openTermsModal(event) {
            event.preventDefault();
            const termsModal = document.getElementById('termsModal');
            termsModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeTermsModal() {
            const termsModal = document.getElementById('termsModal');
            termsModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        // Handle subscription
        function handleSubscribe(event) {
            event.preventDefault();
            const email = event.target.querySelector('input[type="email"]').value;
            
            // Show success message
            const button = event.target.querySelector('button');
            const originalText = button.textContent;
            button.textContent = ' Subscribed!';
            button.style.background = '#10B981';
            
            // Reset after 3 seconds
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = 'linear-gradient(135deg, #F59E0B 0%, #EF4444 100%)';
                event.target.reset();
                if (document.getElementById('rulesModal').style.display === 'block') {
                    closeRulesModal();
                }
            }, 3000);
            
            // In production, this would send to your email service
            if (DEBUG) console.log('Subscribed:', email);
        }
        
        // Update countdown timer
        function updateCountdown() {
            if (timeLeft > 0) {
                timeLeft--;
                
                const hours = Math.floor(timeLeft / 3600);
                const minutes = Math.floor((timeLeft % 3600) / 60);
                const seconds = timeLeft % 60;
                
                const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (elements.ui.countdown) {
                    elements.ui.countdown.textContent = timeString;
                    
                    // Add urgency when time is low
                    if (timeLeft < 3600) { // Less than 1 hour
                        elements.ui.countdown.style.color = '#EF4444';
                    }
                }
            }
        }
        
        // Initialize viewer tracking
        function initializeViewerTracking() {
            // Send initial heartbeat
            sendViewerHeartbeat();
            
            // Send heartbeat every 30 seconds to stay counted as active viewer
            setInterval(sendViewerHeartbeat, 30000);
            
            // Update display every 10 seconds
            setInterval(() => {
                if (!document.hidden) {
                    sendViewerHeartbeat();
                }
            }, 10000);
            
            // Handle page visibility changes
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden) {
                    // Page became visible, send heartbeat
                    sendViewerHeartbeat();
                } else if (DEBUG) {
                    console.log('Page hidden, viewer heartbeat paused');
                }
            });
            
            // Send final heartbeat when page unloads
            window.addEventListener('beforeunload', () => {
                sendViewerLeave();
            });
        }
        
        // Handle page visibility
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                clearInterval(refreshInterval);
            } else {
                refresh(); // Immediate refresh when page becomes visible
                refreshInterval = setInterval(refresh, getRefreshInterval());
            }
        });
        
        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);
        
        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize mobile enhancements first
            initializeMobileEnhancements();
            
            // Initialize viewer tracking
            initializeViewerTracking();
            
            // Validate DOM elements
            validateElements();
            
            // Start with loading state
            Object.values(elements.prices).forEach(el => {
                if (el) el.innerHTML = '<span class="loading"></span>';
            });
            
            // Initial API call
            refresh();
            
            // Set up refresh interval
            refreshInterval = setInterval(refresh, 5000);
            
            // Start countdown timer
            setInterval(updateCountdown, 1000);
            
            // Debug mode helpers
            if (DEBUG) {
                window.debugPricing = {
                    setPrice: (price) => {
                        currentData.price = price;
                        updatePrices(price);
                    },
                    triggerPurchase: () => showPriceIncreaseNotification(currentData.price, currentData.price + 1),
                    setStatus: (status) => {
                        currentData.status = status;
                        updateBuyButtons(currentData.payment_link, status);
                    },
                    validateElements: validateElements,
                    logError: logError,
                    deviceInfo: () => ({
                        isMobile,
                        isTouch,
                        performanceMode,
                        screenWidth: window.innerWidth,
                        pixelRatio: window.devicePixelRatio
                    }),
                    viewerSystem: {
                        getCurrentCount: () => viewerCount,
                        getSessionId: () => sessionId,
                        getCurrentApiUrl: () => currentApiUrl,
                        getApiFailCount: () => apiFailCount,
                        isSimulationMode: () => USE_SIMULATION_MODE,
                        switchToApiMode: () => {
                            USE_SIMULATION_MODE = false;
                            console.log('Switched to API mode');
                            sendViewerHeartbeat();
                        },
                        switchToSimulationMode: () => {
                            USE_SIMULATION_MODE = true;
                            console.log('Switched to simulation mode');
                            simulateViewerCount();
                        },
                        simulateViewers: (count) => {
                            viewerCount = count;
                            updateViewerCount();
                        },
                        sendHeartbeat: sendViewerHeartbeat,
                        simulateJoiners: updateViewersOnPurchase,
                        sendLeave: sendViewerLeave,
                        testApi: async () => {
                            console.log('Testing viewer API endpoints...');
                            for (const url of [currentApiUrl, ...VIEWER_API_FALLBACKS]) {
                                try {
                                    const response = await fetch(url + '/health');
                                    const data = await response.json();
                                    console.log(` ${url}/health:`, data);
                                } catch (error) {
                                    console.log(` ${url}/health:`, error.message);
                                }
                            }
                        }
                    }
                };
                console.log('Debug mode enabled. Use window.debugPricing to test.');
            }
        });
    </script>
</body>
</html>